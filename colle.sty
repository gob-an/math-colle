\usepackage[margin=2.5cm]{geometry}
\usepackage[french]{babel}
\usepackage{amsmath,amssymb}
\usepackage{mathtools}
\usepackage{xcolor}
\usepackage{mdframed}
\usepackage{mathrsfs}

% Define style for correction boxes
\definecolor{corrigecolor}{gray}{0.7}

\makeatletter
\newmdenv[
linecolor=corrigecolor,
linewidth=2pt,
leftline=true,
rightline=false,
topline=false,
bottomline=false,
skipabove=6pt,
skipbelow=6pt,
innertopmargin=4pt,
innerbottommargin=4pt,
innerleftmargin=6pt,
innerrightmargin=4pt,
backgroundcolor=gray!5,
leftmargin=\dimexpr-\@totalleftmargin\relax, % ‚Üê Compense l'indentation courante
rightmargin=0pt
]{correctionbox}
\makeatother